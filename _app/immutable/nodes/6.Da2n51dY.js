import{e as st}from"../chunks/hUONLBj8.js";import{c as Dt}from"../chunks/_s1vI6yc.js";import{g as pe}from"../chunks/Bv8ERj4W.js";import"../chunks/DsnmJJEf.js";import"../chunks/BPK27fSM.js";import{aK as fe,an as _e,u as l,b as be,h as he,v as L,aL as ke,a4 as ye,f as b,a0 as ot,c as e,t as z,g as a,a as _,a5 as me,$ as we,s as i,M as vt,r as t,n as $e,aM as At,aN as R}from"../chunks/DOJ5yYV3.js";import{d as je,h as Me,s as v}from"../chunks/H-2AWsQ5.js";import{i as B}from"../chunks/DsWTw5BE.js";import{e as lt,s as Ct,i as it}from"../chunks/cogaeLka.js";import{i as Se}from"../chunks/CjMUxP8G.js";import{p as Le}from"../chunks/COlDv8J1.js";import{b as ze}from"../chunks/DdxnuYRo.js";function Rt(r,n,c=n){var h=new WeakSet;fe(r,"input",async d=>{var g=d?r.defaultValue:r.value;if(g=nt(r)?dt(g):g,c(g),L!==null&&h.add(L),await _e(),g!==(g=n())){var j=r.selectionStart,p=r.selectionEnd;r.value=g??"",p!==null&&(r.selectionStart=j,r.selectionEnd=Math.min(p,r.value.length))}}),(he&&r.defaultValue!==r.value||l(n)==null&&r.value)&&(c(nt(r)?dt(r.value):r.value),L!==null&&h.add(L)),be(()=>{var d=n();if(r===document.activeElement){var g=ke??L;if(h.has(g))return}nt(r)&&d===dt(r.value)||r.type==="date"&&!d&&!r.value||d!==r.value&&(r.value=d??"")})}function nt(r){var n=r.type;return n==="number"||n==="range"}function dt(r){return r===""?null:+r}const Be=!0,Ae=async()=>{const r=[];for(const n of Dt)for(let c=1;c<=5;c++)r.push({slug:n.slug,id:c.toString()});return r},Ce=({params:r})=>{const n=Dt.find(h=>h.slug===r.slug);if(!n)throw st(404,"Community board not found");const c=pe(r.id);if(!c)throw st(404,"Post not found");if(c.boardSlug!==r.slug)throw st(404,"Post not found in this board");return{board:n,post:c}},oa=Object.freeze(Object.defineProperty({__proto__:null,entries:Ae,load:Ce,prerender:Be},Symbol.toStringTag,{value:"Module"}));function Re(r,n){a(n).trim()&&(console.log("새 댓글:",a(n)),vt(n,""))}var De=b('<meta name="description"/>'),Pe=b('<span class="px-2 py-1 bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-xs font-medium rounded">고정</span>'),Te=b('<span class="text-gray-500">(수정됨)</span>'),Ee=b('<span class="px-3 py-1 bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-slate-400 text-sm rounded-full"> </span>'),Fe=b('<div class="flex gap-2"></div>'),Ke=(r,n,c)=>n(a(c).id),Ne=(r,n,c)=>n(a(c).id),Oe=(r,n,c)=>n(a(c).id),Ve=b('<div class="mt-4 space-y-3"><textarea placeholder="답글을 작성해주세요..." class="w-full p-3 border border-gray-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="2"></textarea> <div class="flex gap-2"><button class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors duration-200">답글 작성</button> <button class="px-4 py-2 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-300 rounded-lg text-sm font-medium transition-colors duration-200">취소</button></div></div>'),He=b('<div class="flex gap-4"><div class="w-8 h-8 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center flex-shrink-0"><span class="text-gray-600 dark:text-slate-400 text-sm font-medium"> </span></div> <div class="flex-1 space-y-2"><div class="flex items-center gap-2"><span class="font-medium text-gray-900 dark:text-slate-100"> </span> <span class="text-sm text-gray-500 dark:text-slate-500"> </span></div> <p class="text-gray-700 dark:text-slate-300"> </p> <div class="flex items-center gap-4"><button class="flex items-center gap-1 text-sm text-gray-500 dark:text-slate-500 hover:text-gray-700 dark:hover:text-slate-300"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg> </button></div></div></div>'),We=b('<div class="ml-12 space-y-4"></div>'),qe=b('<div class="space-y-4"><div class="flex gap-4"><div class="w-8 h-8 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center flex-shrink-0"><span class="text-blue-600 dark:text-blue-400 text-sm font-medium"> </span></div> <div class="flex-1 space-y-2"><div class="flex items-center gap-2"><span class="font-medium text-gray-900 dark:text-slate-100"> </span> <span class="text-sm text-gray-500 dark:text-slate-500"> </span></div> <p class="text-gray-700 dark:text-slate-300"> </p> <div class="flex items-center gap-4"><button class="flex items-center gap-1 text-sm text-gray-500 dark:text-slate-500 hover:text-gray-700 dark:hover:text-slate-300"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg> </button> <button class="text-sm text-gray-500 dark:text-slate-500 hover:text-gray-700 dark:hover:text-slate-300">답글</button></div> <!></div></div> <!></div>'),Ge=b('<div class="max-w-4xl mx-auto px-4 py-8 space-y-8"><div><a class="inline-flex items-center gap-2 text-gray-600 dark:text-slate-400 hover:text-gray-900 dark:hover:text-slate-100 transition-colors duration-200"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg> </a></div> <article class="bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl p-8 space-y-6"><header class="space-y-4"><div class="flex items-center gap-2"><!> <h1 class="text-2xl font-bold text-gray-900 dark:text-slate-100"> </h1></div> <div class="flex items-center justify-between"><div class="flex items-center gap-4 text-sm text-gray-600 dark:text-slate-400"><span class="font-medium"> </span> <span> </span> <!></div> <div class="flex items-center gap-4 text-sm text-gray-600 dark:text-slate-400"><span> </span> <span> </span> <span> </span></div></div></header> <div class="prose prose-gray dark:prose-invert max-w-none"><div class="whitespace-pre-wrap text-gray-900 dark:text-slate-100 leading-relaxed"> </div></div> <!> <div class="flex items-center gap-4 pt-4 border-t border-gray-200 dark:border-slate-700"><button class="flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-300 rounded-lg transition-colors duration-200"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg> </button> <button class="flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-300 rounded-lg transition-colors duration-200"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path></svg> 공유</button></div></article> <section class="bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl p-8 space-y-6"><h2 class="text-xl font-semibold text-gray-900 dark:text-slate-100"> </h2> <div class="space-y-4"><textarea placeholder="댓글을 작성해주세요..." class="w-full p-4 border border-gray-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="3"></textarea> <div class="flex justify-end"><button class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors duration-200">댓글 작성</button></div></div> <div class="space-y-6"></div></section></div>');function la(r,n){ye(n,!1);let c=Le(n,"data",8);const{board:h,post:d}=c(),g=o=>`${ze}${o}`;let j=ot(""),p=ot({}),k=ot({});function Pt(o){return new Date(o).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}function ct(o){const s=new Date(o),u=(new Date().getTime()-s.getTime())/(1e3*60*60);return u<1?"방금 전":u<24?`${Math.floor(u)}시간 전`:u<168?`${Math.floor(u/24)}일 전`:s.toLocaleDateString("ko-KR",{month:"short",day:"numeric"})}function D(o){return o>=1e3?`${(o/1e3).toFixed(1)}k`:o.toString()}function ut(o){R(k,a(k)[o]=!a(k)[o]),vt(k,{...a(k)})}function Tt(o){a(p)[o]?.trim()&&(console.log("새 대댓글:",a(p)[o]),R(p,a(p)[o]=""),R(k,a(k)[o]=!1))}Se();var P=Ge();Me(o=>{var s=De();z(f=>{we.title=`${l(()=>d.title)??""} | ${l(()=>h.title)??""}`,Ct(s,"content",f)},[()=>l(()=>d.content.substring(0,160))]),_(o,s)});var T=e(P),E=e(T),Et=i(e(E));t(E),t(T);var F=i(T,2),K=e(F),N=e(K),xt=e(N);{var Ft=o=>{var s=Pe();_(o,s)};B(xt,o=>{l(()=>d.isPinned)&&o(Ft)})}var gt=i(xt,2),Kt=e(gt,!0);t(gt),t(N);var pt=i(N,2),O=e(pt),V=e(O),Nt=e(V,!0);t(V);var H=i(V,2),Ot=e(H,!0);t(H);var Vt=i(H,2);{var Ht=o=>{var s=Te();_(o,s)};B(Vt,o=>{l(()=>d.updatedAt!==d.createdAt)&&o(Ht)})}t(O);var ft=i(O,2),W=e(ft),Wt=e(W);t(W);var q=i(W,2),qt=e(q);t(q);var _t=i(q,2),Gt=e(_t);t(_t),t(ft),t(pt),t(K);var G=i(K,2),bt=e(G),Jt=e(bt,!0);t(bt),t(G);var ht=i(G,2);{var Qt=o=>{var s=Fe();lt(s,5,()=>l(()=>d.tags),it,(f,u)=>{var y=Ee(),A=e(y);t(y),z(()=>v(A,`#${a(u)??""}`)),_(f,y)}),t(s),_(o,s)};B(ht,o=>{l(()=>d.tags.length>0)&&o(Qt)})}var kt=i(ht,2),yt=e(kt),Ut=i(e(yt));t(yt),$e(2),t(kt),t(F);var mt=i(F,2),J=e(mt),Xt=e(J);t(J);var Q=i(J,2),U=e(Q);At(U);var wt=i(U,2),Yt=e(wt);Yt.__click=[Re,j],t(wt),t(Q);var $t=i(Q,2);lt($t,5,()=>l(()=>d.comments),it,(o,s)=>{var f=qe(),u=e(f),y=e(u),A=e(y),Zt=e(A,!0);t(A),t(y);var jt=i(y,2),X=e(jt),Y=e(X),It=e(Y,!0);t(Y);var Mt=i(Y,2),te=e(Mt,!0);t(Mt),t(X);var Z=i(X,2),ee=e(Z,!0);t(Z);var I=i(Z,2),tt=e(I),ae=i(e(tt));t(tt);var re=i(tt,2);re.__click=[Ke,ut,s],t(I);var se=i(I,2);{var oe=m=>{var w=Ve(),M=e(w);At(M);var x=i(M,2),$=e(x);$.__click=[Ne,Tt,s];var S=i($,2);S.__click=[Oe,ut,s],t(x),t(w),Rt(M,()=>a(p)[a(s).id],C=>R(p,a(p)[a(s).id]=C)),_(m,w)};B(se,m=>{a(k),a(s),l(()=>a(k)[a(s).id])&&m(oe)})}t(jt),t(u);var le=i(u,2);{var ie=m=>{var w=We();lt(w,5,()=>(a(s),l(()=>a(s).replies)),it,(M,x)=>{var $=He(),S=e($),C=e(S),ne=e(C,!0);t(C),t(S);var St=i(S,2),et=e(St),at=e(et),de=e(at,!0);t(at);var Lt=i(at,2),ve=e(Lt,!0);t(Lt),t(et);var rt=i(et,2),ce=e(rt,!0);t(rt);var zt=i(rt,2),Bt=e(zt),ue=i(e(Bt));t(Bt),t(zt),t(St),t($),z((xe,ge)=>{v(ne,xe),v(de,(a(x),l(()=>a(x).author))),v(ve,ge),v(ce,(a(x),l(()=>a(x).content))),v(ue,` ${a(x),l(()=>a(x).likes)??""}`)},[()=>(a(x),l(()=>a(x).author.charAt(0))),()=>(a(x),l(()=>ct(a(x).createdAt)))]),_(M,$)}),t(w),_(m,w)};B(le,m=>{a(s),l(()=>a(s).replies&&a(s).replies.length>0)&&m(ie)})}t(f),z((m,w)=>{v(Zt,m),v(It,(a(s),l(()=>a(s).author))),v(te,w),v(ee,(a(s),l(()=>a(s).content))),v(ae,` ${a(s),l(()=>a(s).likes)??""}`)},[()=>(a(s),l(()=>a(s).author.charAt(0))),()=>(a(s),l(()=>ct(a(s).createdAt)))]),_(o,f)}),t($t),t(mt),t(P),z((o,s,f,u,y)=>{Ct(E,"href",o),v(Et,` ${l(()=>h.title)??""}로 돌아가기`),v(Kt,l(()=>d.title)),v(Nt,l(()=>d.author)),v(Ot,s),v(Wt,`조회 ${f??""}`),v(qt,`좋아요 ${u??""}`),v(Gt,`댓글 ${l(()=>d.comments.length)??""}`),v(Jt,l(()=>d.content)),v(Ut,` 좋아요 ${y??""}`),v(Xt,`댓글 ${l(()=>d.comments.length)??""}`)},[()=>l(()=>g(`/community?board=${h.slug}`)),()=>l(()=>Pt(d.createdAt)),()=>l(()=>D(d.views)),()=>l(()=>D(d.likes)),()=>l(()=>D(d.likes))]),Rt(U,()=>a(j),o=>vt(j,o)),_(r,P),me()}je(["click"]);export{la as component,oa as universal};
